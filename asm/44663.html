<!DOCTYPE html>
<html>
<head>
<title>Technician Ted: Routine at AE77</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />

</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html">Technician Ted</a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="44622.html">AE4E</a></span></td>
<td class="up">Up: <a href="../maps/all.html#44663">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="44893.html">AF5D</a></span></td>
</tr>
</table>
<div class="description">AE77: Enter a new room</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="4">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="43621.html">AA65</a>.
</div>
</div>
<table class="input-0">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>

</table>
<table class="output-0">
<tr class="asm-output-header">
<th colspan="2">Output</th>
</tr>

</table>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="44663"></span>AE77</td>
<td class="instruction">LD HL,($A422)</td>
<td class="comment-11" rowspan="2">Get current room number in L</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44666"></span>AE7A</td>
<td class="instruction">LD H,$00</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44668"></span>AE7C</td>
<td class="instruction">PUSH HL</td>
<td class="comment-11" rowspan="1">Remember this</td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<span id="44669"></span>
<div class="comments">
<div class="paragraph">
Get the room flags, to work out what we should draw
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44669"></span>AE7D</td>
<td class="instruction">LD DE,$7DC0</td>
<td class="comment-11" rowspan="1">Get the base address of the room flags</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44672"></span>AE80</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-11" rowspan="1">Advance to the current room's one</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44673"></span>AE81</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="2">Put it in A and L</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44674"></span>AE82</td>
<td class="instruction">LD L,A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44675"></span>AE83</td>
<td class="instruction">LD ($A457),A</td>
<td class="comment-11" rowspan="1">And store it</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44678"></span>AE86</td>
<td class="instruction">AND $03</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44680"></span>AE88</td>
<td class="instruction">LD ($A461),A</td>
<td class="comment-11" rowspan="1">Put just the moving object flags here</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44683"></span>AE8B</td>
<td class="instruction">LD A,L</td>
<td class="comment-11" rowspan="4">Get the static object part of the flags</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44684"></span>AE8C</td>
<td class="instruction">RRCA</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44685"></span>AE8D</td>
<td class="instruction">RRCA</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44686"></span>AE8E</td>
<td class="instruction">AND $1F</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44688"></span>AE90</td>
<td class="instruction">LD ($A462),A</td>
<td class="comment-11" rowspan="1">Store it here</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44691"></span>AE93</td>
<td class="instruction">POP HL</td>
<td class="comment-11" rowspan="1">Restore HL</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44692"></span>AE94</td>
<td class="instruction">ADD HL,HL</td>
<td class="comment-11" rowspan="1">Convert room number to 16-bit pointer</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44693"></span>AE95</td>
<td class="instruction">LD DE,($A471)</td>
<td class="comment-11" rowspan="1">Get pointer to room offset data</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44697"></span>AE99</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-11" rowspan="1">Get the pointer to the room</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44698"></span>AE9A</td>
<td class="instruction">LD E,(HL)</td>
<td class="comment-11" rowspan="3">Store it in DE</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44699"></span>AE9B</td>
<td class="instruction">INC HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44700"></span>AE9C</td>
<td class="instruction">LD D,(HL)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44701"></span>AE9D</td>
<td class="instruction">LD HL,($A473)</td>
<td class="comment-11" rowspan="1">Get the pointer to base room data</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44704"></span>AEA0</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-11" rowspan="1">Add our offset - HL now points to the room data</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44705"></span>AEA1</td>
<td class="instruction">LD DE,$A421</td>
<td class="comment-11" rowspan="2">Get current border colour variable in A</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44708"></span>AEA4</td>
<td class="instruction">LD A,(DE)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44709"></span>AEA5</td>
<td class="instruction">AND $F8</td>
<td class="comment-11" rowspan="1">Strip out ink flags</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44711"></span>AEA7</td>
<td class="instruction">OR (HL)</td>
<td class="comment-11" rowspan="1">Preserve border colour</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44712"></span>AEA8</td>
<td class="instruction">LD (DE),A</td>
<td class="comment-11" rowspan="1">Store it</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44713"></span>AEA9</td>
<td class="instruction">INC HL</td>
<td class="comment-11" rowspan="2">Get background colour in A</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44714"></span>AEAA</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44715"></span>AEAB</td>
<td class="instruction">LD ($A402),A</td>
<td class="comment-11" rowspan="1">Store it</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44718"></span>AEAE</td>
<td class="instruction">INC HL</td>
<td class="comment-11" rowspan="3">Put pointer to UDG store in IX</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44719"></span>AEAF</td>
<td class="instruction">PUSH HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44720"></span>AEB0</td>
<td class="instruction">POP IX</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<span id="44722"></span>
<div class="comments">
<div class="paragraph">
Clear the screen
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44722"></span>AEB2</td>
<td class="instruction">LD HL,$9000</td>
<td class="comment-11" rowspan="5">Blank screen 2 store</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44725"></span>AEB5</td>
<td class="instruction">LD DE,$9001</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44728"></span>AEB8</td>
<td class="instruction">LD BC,$0FFF</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44731"></span>AEBB</td>
<td class="instruction">LD (HL),$00</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44733"></span>AEBD</td>
<td class="instruction">LDIR</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44735"></span>AEBF</td>
<td class="instruction">LD HL,$A200</td>
<td class="comment-11" rowspan="5">Blank screen 2 attributes</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44738"></span>AEC2</td>
<td class="instruction">LD DE,$A201</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44741"></span>AEC5</td>
<td class="instruction">LD BC,$01FF</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44744"></span>AEC8</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44745"></span>AEC9</td>
<td class="instruction">LDIR</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<span id="44747"></span>
<div class="comments">
<div class="paragraph">
Put objects on the screen
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44747"></span>AECB</td>
<td class="instruction">LD HL,$C2C1</td>
<td class="comment-11" rowspan="2">Store pointer to static UDGs here</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44750"></span>AECE</td>
<td class="instruction">LD ($A423),HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44753"></span>AED1</td>
<td class="instruction">LD HL,$7FD0</td>
<td class="comment-11" rowspan="2">Store pointer to conveyor belt data here</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44756"></span>AED4</td>
<td class="instruction">LD ($A455),HL</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44759"></span>AED7</td>
<td class="instruction">XOR A</td>
<td class="comment-11" rowspan="3">Set first frame of conveyor belts</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44760"></span>AED8</td>
<td class="instruction">LD ($A444),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44763"></span>AEDB</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44764"></span>AEDC</td>
<td class="instruction">LD A,$90</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44766"></span>AEDE</td>
<td class="instruction">LD ($A45C),A</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44769"></span>AEE1</td>
<td class="instruction">LD DE,$A200</td>
<td class="comment-11" rowspan="2">Read static UDG information into attributes 2</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44772"></span>AEE4</td>
<td class="instruction">CALL <a href="46586.html#46589">$B5FD</a></td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44775"></span>AEE7</td>
<td class="instruction">LD A,$80</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44777"></span>AEE9</td>
<td class="instruction">LD ($A45C),A</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44780"></span>AEEC</td>
<td class="instruction">LD A,$FF</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44782"></span>AEEE</td>
<td class="instruction">LD ($A444),A</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44785"></span>AEF1</td>
<td class="instruction">CALL <a href="46586.html">$B5FA</a></td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44788"></span>AEF4</td>
<td class="instruction">LD HL,($A455)</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44791"></span>AEF7</td>
<td class="instruction">LD (HL),$00</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44793"></span>AEF9</td>
<td class="instruction">CALL <a href="46586.html">$B5FA</a></td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44796"></span>AEFC</td>
<td class="instruction">PUSH IX</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44798"></span>AEFE</td>
<td class="instruction">POP HL</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<span id="44799"></span>
<div class="comments">
<div class="paragraph">
Draw any task buttons
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44799"></span>AEFF</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-11" rowspan="1">Get next value</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44800"></span>AF00</td>
<td class="instruction">INC HL</td>
<td class="comment-11" rowspan="1">Increment to next pointer in the room data</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44801"></span>AF01</td>
<td class="instruction">AND A</td>
<td class="comment-11" rowspan="1">Is the next value zero?</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44802"></span>AF02</td>
<td class="instruction">CALL NZ,<a href="45571.html">$B203</a></td>
<td class="comment-11" rowspan="1">If not, there are task buttons, so process them</td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<span id="44805"></span>
<div class="comments">
<div class="paragraph">
Initialize moving objects
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44805"></span>AF05</td>
<td class="instruction">LD ($A41D),HL</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44808"></span>AF08</td>
<td class="instruction">XOR A</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44809"></span>AF09</td>
<td class="instruction">LD ($A42A),A</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="44812"></span>AF0C</td>
<td class="instruction">CP (HL)</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44813"></span>AF0D</td>
<td class="instruction">INC HL</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44814"></span>AF0E</td>
<td class="instruction">JR NZ,$AF0C</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="44816"></span>AF10</td>
<td class="instruction">CP (HL)</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44817"></span>AF11</td>
<td class="instruction">INC HL</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44818"></span>AF12</td>
<td class="instruction">JR NZ,$AF10</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44820"></span>AF14</td>
<td class="instruction">LD ($A41F),HL</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-2"><span id="44823"></span>AF17</td>
<td class="instruction">CP (HL)</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44824"></span>AF18</td>
<td class="instruction">INC HL</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44825"></span>AF19</td>
<td class="instruction">JR NZ,$AF17</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44827"></span>AF1B</td>
<td class="instruction">LD IX,$7E00</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44831"></span>AF1F</td>
<td class="instruction">CALL <a href="46245.html">$B4A5</a></td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44834"></span>AF22</td>
<td class="instruction">LD (IX+$00),$00</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44838"></span>AF26</td>
<td class="instruction">LD (IX+$01),$00</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44842"></span>AF2A</td>
<td class="instruction">INC HL</td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<span id="44843"></span>
<div class="comments">
<div class="paragraph">
Draw the title and status area
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44843"></span>AF2B</td>
<td class="instruction">CALL <a href="45376.html">$B140</a></td>
<td class="comment-11" rowspan="1"></td>
</tr>
<tr>
<td class="routine-comment" colspan="4">
<span id="44846"></span>
<div class="comments">
<div class="paragraph">
Make the copy of the screen live
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44846"></span>AF2E</td>
<td class="instruction">LD HL,$9000</td>
<td class="comment-11" rowspan="4">Copy screen 2 to screen 1</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44849"></span>AF31</td>
<td class="instruction">LD DE,$8000</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44852"></span>AF34</td>
<td class="instruction">LD BC,$1000</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44855"></span>AF37</td>
<td class="instruction">LDIR</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44857"></span>AF39</td>
<td class="instruction">LD HL,$A200</td>
<td class="comment-11" rowspan="4">Copy attributes 2 to attributes 1</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44860"></span>AF3C</td>
<td class="instruction">LD DE,$A000</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44863"></span>AF3F</td>
<td class="instruction">LD B,$02</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44865"></span>AF41</td>
<td class="instruction">LDIR</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44867"></span>AF43</td>
<td class="instruction">LD HL,$8000</td>
<td class="comment-11" rowspan="4">Make screen 1 live</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44870"></span>AF46</td>
<td class="instruction">LD DE,$4000</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44873"></span>AF49</td>
<td class="instruction">LD B,$10</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44875"></span>AF4B</td>
<td class="instruction">LDIR</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44877"></span>AF4D</td>
<td class="instruction">LD HL,$A000</td>
<td class="comment-11" rowspan="4">Make attributes 1 live</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44880"></span>AF50</td>
<td class="instruction">LD DE,$5800</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44883"></span>AF53</td>
<td class="instruction">LD B,$02</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44885"></span>AF55</td>
<td class="instruction">LDIR</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44887"></span>AF57</td>
<td class="instruction">LD A,($A421)</td>
<td class="comment-11" rowspan="2">Set the border colour</td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44890"></span>AF5A</td>
<td class="instruction">OUT ($FE),A</td>
<td class="comment-01" rowspan="1"></td>
</tr>
<tr>
<td class="asm-label-0"></td>
<td class="address-1"><span id="44892"></span>AF5C</td>
<td class="instruction">RET</td>
<td class="comment-11" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev"><span class="prev-1">Prev: <a href="44622.html">AE4E</a></span></td>
<td class="up">Up: <a href="../maps/all.html#44663">Map</a></td>
<td class="next"><span class="next-1">Next: <a href="44893.html">AF5D</a></span></td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">Copyright Steve Marsden and David Cooke 1984. This dissassembly by Ritchie Swann 2018.</div>
<div class="created">Created using <a href="http://skoolkit.ca/">SkoolKit</a> 7.0.</div>
</footer>
</body>
</html>